<div class="container mt-3">
  <div class="row">
    <div class="col-8">
      <label class="btn btn-default p-0">
        <input type="file" (change)="onFileChange($event)" accept=".csv" />
      </label>
    </div>
    <div class="col-4" *ngIf="!isUploaded">
      <button class="btn btn-success btn-sm" [disabled]="!fileContent" (click)="uploadToLocalStorage()">
        Upload CSV
      </button>
    </div>
    <div class="col-4" *ngIf="isUploaded">
      <button class="btn btn-primary btn-sm" (click)="navigateToPreview()">
        Preview
      </button>
    </div>
  </div>

  <div class="alert alert-danger mt-3" *ngIf="errorMessage">{{ errorMessage }}</div>

  <div class="card mt-3" *ngIf="fileContent">
    <div class="card-header">CSV File Contents</div>
    <div class="card-body">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Column 1</th>
            <th>Column 2</th>
            <th>Column 3</th>
            <!-- Add more headers based on your CSV structure -->
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of fileContent.split('\n')">
            <td *ngFor="let cell of row.split(',')">{{ cell }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
